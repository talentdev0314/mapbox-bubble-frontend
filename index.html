<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.0/nouislider.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.0/nouislider.min.js"></script>
    <link href="custom.css" rel="stylesheet" />
    </link>
</head>

<body>
    <div id="map">
        <div class="search-container">
            <div class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1"
                        transform="rotate(45 17.0365 15.1223)" fill="black" />
                    <path
                        d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z"
                        fill="black" />
                </svg>
            </div>
            <input type="text" placeholder="Search...">
            <select>
                <option value="state">State</option>
                <option value="metro">Metro</option>
                <option value="county">County</option>
                <option value="zipcode">Zip Code</option>
            </select>
            <div class="share-icon" onclick="openShareModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M18 16.08c-.76 0-1.44.3-1.96.77l-5.17-3.11c.05-.23.08-.46.08-.7s-.03-.47-.08-.7l5.12-3.08c.54.5 1.25.82 2.01.82 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.03.47.08.7l-5.12 3.08c-.54-.5-1.25-.82-2.01-.82-1.66 0-3 1.34-3 3s1.34 3 3 3c.76 0 1.47-.32 2.01-.82l5.12 3.08c-.05.23-.08.46-.08.7 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3z" />
                </svg>
            </div>
        </div>
        <div class="menu-container">
            <div class="my-menu-item">
                Investor Trends
                <div class="my-dropdown-menu investor-trends">
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Shadow Inventory %</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Migration Total</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Migration % of
                        Population</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Building Permits</label>
                </div>
            </div>
            <div class="my-menu-item">
                Demographics
                <div class="my-dropdown-menu demographics">
                    <label><input type="checkbox" onclick="onlyOneSelect();" checked /><span></span> Population</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Median Household
                        Income</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Population Growth</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Income Growth</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Remote Work %</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Homeownership Rate</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Mortgaged Home %</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Median Age</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Poverty Rate</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Housing Units</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Housing Units Growth
                        Rate</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> College Degree Rate</label>
                </div>
            </div>
            <div class="my-menu-item ">
                Affordability
                <div class="my-dropdown-menu affordability">
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Home Value</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Home Value Growth
                        (YoY)</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Home Value Growth
                        (MoM)</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Overvalued %</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Value/Income Ratio</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Mortgage Payment</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Salary to Afford a
                        House</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Mtg Payment as % of
                        Income</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Property Tax Rate</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> % Crash from
                        2007-12</label>
                </div>
            </div>
            <div class="my-menu-item">
                Market Trends
                <div class="my-dropdown-menu market-trends">
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> For Sale Inventory</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Sale Inventory Growth</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Inventory
                        Surplus/Deficit</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Price Cut %</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Days on Market</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Days on Market Growth
                        (YoY)</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Inventory as % of
                        Houses</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Median Listing
                        Price</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> Median Listing Price Growth
                        (YoY)</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> New Listing Count</label>
                    <label><input type="checkbox" onclick="onlyOneSelect();" /><span></span> New Listing Count Growth
                        (YoY)</label>
                </div>
            </div>
        </div>
    </div>
    <div id="loadingOverlay" class="loading-overlay" style="display: none;"></div>
    <div id="loadingSpinner" class="loading-spinner" style="display: none;">
        <div class="spinner"></div>
    </div>
    <div class="graph-modal" id="graphModal">
        <div class="graph-modal-content">
            <button class="close-graph-modal" id="closeGraphModal"
                onclick="graphModal.classList.remove('active');">&times;</button>
            <h1 class="graphTitle">Texas</h1>

            <div class="graph-container">
                <div class="graph-left">
                    <div class="panel-slider">
                        <div class="panel-container">
                            <div class="panel">Population</div>
                            <div class="panel"><strong>N/A</strong><span class="value-text">N/A</span><span
                                    class="change-text">N/A</span></div>
                            <div class="panel"><strong>N/A</strong><span class="value-text">N/A</span></div>
                            <div class="panel"><strong>N/A</strong><span class="value-text">N/A</span></div>
                            <div class="panel">Extra Panel 1</div>
                            <div class="panel">Extra Panel 2</div>
                            <div class="panel">Extra Panel 3</div>
                        </div>
                    </div>
                </div>
                <div class="graph-right">
                    <div class="graph-header">
                        <div class="graph-left-controls">
                            <h2 class="graph-title">Population</h2>
                            <p id="populationDescription" class="graph-description">Population size is fundamental for
                                understanding economic scale, resource allocation, political representation, and market
                                demand in any region.</p>
                        </div>
                        <div class="graph-controls">
                            <select id="dataSelector" class="data-selector">
                                <option value="Investor Trends">Investor Trends</option>
                                <option value="Demographics" selected>Demographics</option>
                                <option value="Affordability">Affordability</option>
                                <option value="Market Trends">Market Trends</option>
                            </select>
                            <div class="year-month-toggle-container">
                                <span class="toggle-label">Year</span>
                                <label class="year-month-switch">
                                    <input type="checkbox">
                                    <span class="year-month-slider round"></span>
                                </label>
                                <span class="toggle-label">Month</span>
                            </div>
                        </div>
                    </div>

                    <canvas id="chartCanvas"></canvas>
                    <div class="slider-wrapper">
                        <div id="rangeSlider"></div>
                        <div class="slider-labels">
                            <span id="minLabel"></span>
                            <span id="maxLabel"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="shareModal" class="share-modal">
        <div class="share-modal-content">
            <span class="share-close" onclick="closeShareModal()">&times;</span>
            <h2>Share</h2>
            <p>Share with your friends</p>
            <div class="share-input">
                <input type="text" id="shareURL" readonly>
                <button onclick="copyToClipboard()">Copy Link</button>
            </div>
        </div>
    </div>
</body>
<script src="custom.js"></script>

</html>